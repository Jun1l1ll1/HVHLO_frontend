<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title langid="title_overview">HVHLO | Oversikt</title>
</head>
<script>

    const STEDVALG = [{"sted": "Oslo sykehus"},{"sted": "Grottenveien sykehjem"},{"sted": "Sjølyst sykeleir"}];
    
    const DATA = [
        {
            id: 0,
            admitted_hospital: "",
            local_id: "",
            first_name: "Ingen",
            last_name: "Nokesteds",
            birth: "",
            incident: "",
            cause: "",
            criticality: "",
            movability: "",
            arrival: "2024-01-19T18:19",
            expected_departure: "",
            departure: "2024-01-19T19:19",
            departure_status: "",
            departure_destination: "",
            nationality: "",
            national_id: "",
            comment: "<b>Er</b> fantastisk's!",
            _num_hint: 1,
            _is_fnr: 1,
        },
        {
            id: 1,
            admitted_hospital: "",
            local_id: "",
            first_name: "Meg",
            last_name: "Ergud",
            birth: "",
            incident: "",
            cause: "",
            criticality: "Kritisk",
            movability: "",
            arrival: "2024-01-19T18:19",
            expected_departure: "",
            departure: "",
            departure_status: "",
            departure_destination: "",
            nationality: "",
            national_id: "",
            comment: "",
            _num_hint: 100,
            _is_fnr: 1,
        },
        {
            id: 2,
            admitted_hospital: "",
            local_id: "",
            first_name: "Deg",
            last_name: "Hakkepei Ling",
            birth: "",
            incident: "",
            cause: "",
            criticality: "",
            movability: "",
            arrival: "2024-01-19T18:19",
            expected_departure: "",
            departure: "2024-01-19T19:19",
            departure_status: "",
            departure_destination: "",
            nationality: "",
            national_id: "",
            comment: "",
            _num_hint: 0,
            _is_fnr: 0,
        }
    ];

    const QUESTIONS_DATA = {
        "Text": "DTG 122104",
        "Q1":"green",
        "Q2":"yellow",
        "Q3":"red",
        "Q4":"green"
    }

    //TODO edit this to the real hospital name
    const HOSPITAL_NAME = "Ingen Mansland Hospital";
    const SHOW_PICTURE_ICON = true;

</script>
<script type="text/javascript" src="html_script.js?v=21.45.17.02"></script>
<body onload="getTableData()">

    <div id="full_page"> <!-- using display: table so body_cont takes up full screen-height -->
        
        <div id="show_comment_full_page" class="disappear" onclick="hide_comment()">
            <div id="overview_comment" onclick="dont_do_parent_event(event)">
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,
                molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborum
                numquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentium
                optio, eaque rerum!
            </div>
        </div>
        
        <div id="show_location_select_full_page" class="disappear" onclick="hide_location_select()">
            <div id="location_select_cont" onclick="dont_do_parent_event(event)">
                <div id="location_select_options_cont">
                    <!-- Content is added in the show_location_select() function -->
                </div>
                <button onclick="hide_location_select()" langid="confirm_cancel">Avbryt</button>
            </div>
        </div>

        <div id="top_header">
            <div id="top_header_alignment" class="no_resize_for_padding">
                <div class="align_items_horizontal">
                    <h1>HVHLO</h1> <!--TODO? add logo -->
                    <div id="lang_cont">
                        <button onclick="toggleLangDropdown()" id="lang_selector"><img src="/img/language_icon.svg" alt="Change language"></button>

                        <div id="lang_dropdown_cont">
                            <label id="lang_dropdown_item_1" class="lang_radio_label fold_in" for="lang_NO"><img src="/img/flag_NO.png" alt="Norsk"></label>
                            <input onchange="setLang('NO')" type="radio" value="NO" name="lang_radio" id="lang_NO" checked>
                            <label id="lang_dropdown_item_2" class="lang_radio_label fold_in" for="lang_EN"><img src="/img/flag_EN.svg" alt="English"></label>
                            <input onchange="setLang('EN')" type="radio" value="EN" name="lang_radio" id="lang_EN">
                        </div>
                    </div>
                </div>

                <div class="align_items_horizontal" style="display: flex;"> <!-- Change display to being flex or none (or no defined display and display: none;) -->
                    <!-- <a href="./hospital.html" class="btn" id="edit_hospital_status" langid="edit_hospital_status">Rediger sykehus status</a> -->
                    <a href="./hospital.html">
                        <svg id="hexagon" width="60px" stroke="none" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="610,122.5,700,700">
                            <!-- Sets colors in JS if id of hex[0-5] exists -->
                            <path fill="var(--cont_color_light)" id="hex0" d="M1129.625,179.1339l-169.75064,292.71548l-168.49479,-292.71547z"/>
                            <path fill="var(--cont_color_light)" id="hex1" d="M1129.34359,179.1883l-170.35577,292.36611l339.47849,0.56304z"/>
                            <path fill="var(--cont_color_light)" id="hex2" d="M1297.24543,471.5l-169.75064,292.71548l-168.49187,-293.70958z"/>
                            <path fill="var(--cont_color_light)" id="hex3" d="M959.64785,471.63011l-169.15306,292.58537l337.28211,-0.48646z"/>
                            <path fill="var(--cont_color_light)" id="hex4" d="M960.24543,471.5l-169.75064,292.71548l-168.49479,-292.71547z"/>
                            <path fill="var(--cont_color_light)" id="hex5" d="M791.62372,179.13389l-169.19136,293.11723l338.31407,-0.18808z"/>
                        </svg>
                    </a>
                    <p id="hospital_last_edited" style="margin-left: 10px;">DTG 301155</p> <!-- The time it was last edited -->
                </div>
                
                <div>
                    <div id="location_and_menu">
                        <h2 id="hospital_location">Ingen Mansland Sykehus</h2>
                        
                        <label for="more_options_chbx" id="more_options_menu" class="btn"><img src="./img/menu_icon.svg" height="25" alt="Meny"/></label>
                        <input type="checkbox" name="more_options_chbx" id="more_options_chbx">
                        <label id="hide_more_options_cont" for="more_options_chbx"></label> <!-- Take the whole page when menu is open (to close it when you click outside) -->
                        <div id="more_options_cont">
                            <label for="more_options_chbx" class="btn">X</label>
                            <br/>
                            <button onclick="show_location_select(STEDVALG)"> <img src="./img/change_location_icon.svg" alt="Bytt sted"/> <span langid="change_location">Bytt sted</span></button>
                            <a href="/access.html"><img src="./img/qr_code_icon.svg" alt="Tilgang"/> <span langid="give_access">Gi tilgang</span></a>
                            <a href="/statistics.html"><img src="./img/statistics_icon.svg" alt="Statistikk"/> <span langid="statistics">Statistikk</span></a> <!--TODO Change link to the correct one -->
                        </div>
                    </div>
                    <div id="access_and_logout_cont">
                        <a class="top_header_link" href="/index.html?logout=yes"><img src="/img/logout_icon.svg" alt="Logg ut"> <span langid="loggout">Logg ut</span></a>
                    </div>
                </div>
            </div>
        </div>

        <div id="bottom_header">
            <div id="bottom_header_alignment">
                <!--TODO? Add full screen/display mode -->
                <div id="header_choice_cont">
                    <p style="margin: 0px; font-size: larger;" langid="choose_table_categories">Velg viste tabell-kategorier</p>
                        
                    <select id="header_choices" onchange="header_choice_changed()" multiple style="width: 100%;" multiselect-search="true" multiselect-hide-x = "false">
                        <option value="local_id" langid="local_id" selected>Lokal ID</option>
                        <option value="first_name" langid="first_name" selected>Fornavn</option>
                        <option value="last_name"langid="last_name" selected>Etternavn</option>
                        <option value="nationality" langid="nationality" >Nasjonalitet</option>
                        <option value="national_id" langid="national_id" >Nasjonal ID</option>
                        <option value="birth" langid="birth" >Fødselsdato</option>
                        <option value="arrival" langid="arrival" selected>Ankomst</option>
                        <option value="incident" langid="incident" >Hendelse</option>
                        <option value="cause" langid="cause" >Årsak</option>
                        <option value="criticality" langid="criticality" >Kritikalitet</option>
                        <option value="movability" langid="movability" >Flyttbarhet</option>
                        <option value="departure" langid="departure" selected>Avreise</option>
                        <option value="expected_departure" langid="expected_departure" >Forventet avreise</option>
                        <option value="departure_status" langid="departure_status" >Avreisestatus</option>
                        <option value="departure_destination" langid="departure_destination" >Avreisedestinasjon</option>
                        <option value="comment" langid="comment" >Kommentar</option>
                    </select>
                </div>
                
                <div id="filter_cont">
                    <p style="margin: 0px; font-size: larger;" langid="filter">Filtrer pasienter</p> 
                    <input oninput="search_filter_changed()" type="text" name="search_filter_inp" id="search_filter_inp"/>
                </div>
    

            </div>
        </div>
    
        <div style="display: table-row;"> <!-- not on #center_body so display: flex can be used -->
            <div id="center_body" class="no_resize_for_padding"><div id="body_cont" class="no_resize_for_padding">
                
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div></div>
                    <div id="new_patient_cont">
                        <span id="new_patient_span" langid="create_new">Ny pasient</span>
                        <div>
                            <button onclick="make_new(true)" id="new_from_pic_btn" class="make_new_btns"><img src="./img/picture_icon.svg" alt="Ny fra foto" width="30px"></button>
                            <button onclick="make_new()" id="new_btn" class="make_new_btns"><img src="./img/pencil_icon.svg" alt="Ny pasient" width="30px"></button>
                        </div>
                    </div>
                </div>


                <p id="filter_note" class="hide" style="margin-top: 50px; margin-bottom: 0px; color: rgb(0, 139, 182);" langid="is_filtered_note">*Tabellinformasjonen er filtrert.</p>
                <table class="info_table" id="index_table">
                    <thead>
                        <tr id="table_head_row">
                        </tr>
                    </thead>
                    <tbody id="table_body"> <!--TODO? make <td> scrollable on y (define width) -->
                        <!-- This is where the info. from the data is added (se getTableData() in html_script.js) -->
                    </tbody>
                </table>

            </div></div>
        </div>
    </div>
</body>
<script src="multiselect-dropdown.js"></script>
</html>
